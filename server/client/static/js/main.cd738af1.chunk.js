(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),s=n.n(c),i=n(10),o=n(34),u=n.n(o),l=n.p+"static/media/avatar.6537f30a.jpg",d={dev:"/api",img:""};function j(e){var t=e.path;return d.img+t.substring(t.indexOf("public/")+6)}var b=n(1);function p(e){var t,n,r,a=e.userAvatar,c=e.size,s=void 0===c?"small":c;e.from;switch(s){case"small":n=u.a.small;break;case"medium":n=u.a.medium;break;case"large":n=u.a.large;break;default:n=u.a.small}return Object(b.jsx)("div",{style:{backgroundImage:'url("'.concat(null!==(r=a,t=(null===r||void 0===r?void 0:r.indexOf("public/"))>=0?d.img+r.substring(r.indexOf("public/")+6):r)&&void 0!==t?t:l,'")')},className:"".concat(u.a.avatar," ").concat(n)})}var h=n(42),m=n.n(h),f=n(20),O=n.p+"static/media/message.a71a633a.svg",v=n.p+"static/media/logo.2163973a.svg",x=n(24),g=n(134),_=Object(x.a)((function(e){return{badge:{right:4,top:4,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(g.a);function y(e){var t=e.icon,n=e.size,r=e.count;return Object(b.jsx)(_,{badgeContent:null!==r&&void 0!==r?r:4,color:"secondary",children:Object(b.jsx)(p,{userAvatar:t,size:n})})}var k=n.p+"static/media/notification.5099f905.svg",w=n(4),N=n(50),C=n.n(N),I=n.p+"static/media/close.7bf27813.svg",S=n.p+"static/media/search.70b257cc.svg",P=n(136),F=n(135),M=function(){var e=Object(F.a)("(max-width:700px)"),t=Object(r.useState)(!0),n=Object(w.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),i=Object(w.a)(s,2),o=i[0],u=i[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{isOpen:o,setOpen:u}),Object(b.jsxs)("form",{className:C.a.searchBox,style:{backgroundColor:e?"transparent":""},children:[Object(b.jsx)("div",{style:{display:a?"":"none"},children:Object(b.jsx)("img",{onClick:function(){e&&u(!0)},alt:"icon",title:"Search",width:e?"32":"23",src:S})}),Object(b.jsx)("input",{placeholder:"Search Anything!",style:{display:e?"none":""},onFocus:function(){c(!1)},onBlur:function(){c(!0)},type:"text"})]})]})},B=function(e){var t=e.isOpen,n=e.setOpen,c=Object(r.useRef)(null);return Object(r.useEffect)((function(){(null===c||void 0===c?void 0:c.current)&&c.current.focus()}),[c]),Object(b.jsx)(a.a.Fragment,{children:Object(b.jsxs)(P.a,{anchor:"top",open:t,onClose:function(){n(!1)},children:[Object(b.jsx)("p",{className:C.a.searchTitle,children:"Search anything!"}),Object(b.jsxs)("div",{className:C.a.overlaySearch,children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{alt:"icon",title:"Search",src:S})}),Object(b.jsx)("input",{ref:c,type:"text"}),Object(b.jsx)("div",{children:Object(b.jsx)("img",{onClick:function(){n(!1)},alt:"icon",title:"Search",src:I})})]})]})})},E=n(13);function R(){var e=Object(E.c)((function(e){return e.user.uid})),t=Object(E.c)((function(e){return e.user.profileImage}));return Object(b.jsx)("header",{className:m.a.navbar,children:Object(b.jsxs)("div",{className:m.a.content,children:[Object(b.jsxs)("div",{className:m.a.groupSearch,children:[Object(b.jsx)(f.b,{to:"/",children:Object(b.jsx)(p,{userAvatar:v})}),Object(b.jsx)(M,{})]}),Object(b.jsxs)("div",{className:m.a.groupNotification,children:[Object(b.jsx)(y,{icon:O}),Object(b.jsx)(y,{icon:k}),e&&Object(b.jsx)(f.b,{to:"/user/".concat(e),children:Object(b.jsx)(p,{userAvatar:t})})]})]})})}function U(e){var t=e.children;return Object(b.jsxs)("div",{children:[Object(b.jsx)(R,{}),t]})}var A=n(5),L=n(25),W=n(51),V=n.n(W),q=n(43),D=n.n(q);function T(e){var t=e.user;return Object(b.jsxs)("div",{className:D.a.container,children:[Object(b.jsx)("div",{className:D.a.userInfor,children:Object(b.jsxs)("div",{className:D.a.group,children:[Object(b.jsx)(p,{size:"large",userAvatar:t.picture}),Object(b.jsx)("p",{children:t.userfullname})]})}),Object(b.jsx)("div",{className:D.a.background})]})}var z=n(35),G=n.n(z),H=n.p+"static/media/reaction.7d741b0d.svg",J=n(11),X=n.n(J),Y=n(22),Q=n(57),K=n.n(Q),Z={registerNewUser:function(e){return Object(Y.a)(X.a.mark((function t(){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(d.dev,"/user/signup"),$("POST",{user:e})).then((function(e){return e.json()}));case 3:if(!(n=t.sent).status){t.next=6;break}return t.abrupt("return",n);case 6:throw new Error;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{err:"bad request"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},loginExistingUser:function(e){return Object(Y.a)(X.a.mark((function t(){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(d.dev,"/user/login"),$("POST",{user:e})).then((function(e){return e.json()}));case 3:if(!(n=t.sent).status){t.next=6;break}return t.abrupt("return",n);case 6:throw new Error;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{err:"bad request from client"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},loginFacebook:function(e){return Object(Y.a)(X.a.mark((function t(){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(d.dev,"/user/fblogin"),$("POST",{user:e})).then((function(e){return e.json()}));case 3:if(!(n=t.sent).status){t.next=6;break}return t.abrupt("return",n);case 6:throw new Error;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{err:"bad request"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},makePost:function(e){return Object(Y.a)(X.a.mark((function t(){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K()({method:"post",url:"".concat(d.dev,"/post/newpost"),data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},getLatestPost:function(){return Object(Y.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("".concat(d.dev,"/post/latest")).then((function(e){return e.data}));case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{err:"bad request! no post."});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getUserById:function(e){return Object(Y.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",fetch("".concat(d.dev,"/user/information/").concat(e)).then((function(e){return e.json()})));case 4:return t.prev=4,t.t0=t.catch(0),t.abrupt("return",{err:t.t0.message});case 7:case"end":return t.stop()}}),t,null,[[0,4]])})))()},getEarlierPostByLastId:function(e){return Object(Y.a)(X.a.mark((function t(){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(d.dev,"/post/earlier/").concat(e)).then((function(e){return e.json()}));case 3:return n=t.sent,t.abrupt("return",n);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{err:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getAllPostById:function(e){return Object(Y.a)(X.a.mark((function t(){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(d.dev,"/post/allpost/").concat(e)).then((function(e){return e.json()}));case 3:return n=t.sent,t.abrupt("return",n);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{err:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},$=function(e,t){return{method:e,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}},ee=Z,te=(n(109),n(36)),ne=n.n(te);function re(e){var t=e.media,n=e.onOpen;return Object(b.jsxs)("div",{onClick:n,className:"".concat(ne.a.container," ").concat(1===t.length?ne.a.single:ne.a.many),children:[Object(b.jsx)(ae,{media:t[0]}),t.length>=2&&Object(b.jsx)(ae,{left:t.length-2,media:t[1]})]})}var ae=function(e){var t=e.media,n=e.left,r=t.type.match(/^video/);return Object(b.jsx)("div",{className:ne.a.VideoThumbnail,style:{backgroundImage:r?"":'url("'.concat(j(t),'")'),width:"100%",height:"100%"},children:n>0&&Object(b.jsx)("div",{className:ne.a.mediaRemain,children:Object(b.jsxs)("p",{children:[n,"+"]})})})};function ce(e){var t,n,c=e.data,s=e.onOpen,o=e.type,u=void 0===o?"minimal":o,l=Object(r.useState)(!1),d=Object(w.a)(l,2),j=d[0],h=d[1],m=a.a.useState(null),O=Object(w.a)(m,2),v=O[0],x=O[1];return a.a.useEffect((function(){c&&x((function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),c),{},{media:JSON.parse(c.media)})}))}),[c]),a.a.useEffect((function(){(null===v||void 0===v?void 0:v.userid)&&!(null===v||void 0===v?void 0:v.userfullname)&&ee.getUserById(v.userid).then((function(e){x((function(t){return Object(i.a)(Object(i.a)({},t),e.rows[0])})),console.log(e)}))}),[v]),v?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:G.a.container,tabIndex:"1",children:[Object(b.jsxs)("div",{className:G.a.userInfor,children:[Object(b.jsx)(f.b,{to:"/user/".concat(null===v||void 0===v?void 0:v.userid),children:Object(b.jsx)(p,{userAvatar:null!==(t=v.picture)&&void 0!==t?t:null,size:"medium"})}),Object(b.jsxs)("div",{className:G.a.postInfor,children:[Object(b.jsx)(f.b,{to:"/user/".concat(null===v||void 0===v?void 0:v.userid),children:Object(b.jsx)("p",{children:(null===v||void 0===v?void 0:v.userfullname)||""})}),Object(b.jsx)("p",{children:c.datecreated})]})]}),Object(b.jsxs)("div",{title:"click to open post",className:G.a.postContent,children:[Object(b.jsxs)("p",{children:[j?c.content:c.content.substring(0,200),Object(b.jsx)("span",{style:{color:"gray",display:c.content.length<200||j?"none":""},onClick:function(){h(!0)},children:"...see more"})]}),(null===v||void 0===v||null===(n=v.media)||void 0===n?void 0:n.length)&&"minimal"===u?Object(b.jsx)(re,{onOpen:s,media:v.media}):Object(b.jsx)(b.Fragment,{})]}),Object(b.jsxs)("div",{className:G.a.like_comment,children:[Object(b.jsx)(p,{userAvatar:H}),Object(b.jsx)("div",{}),Object(b.jsxs)("p",{children:[c.commentcount," comments"]})]})]})}):Object(b.jsx)(b.Fragment,{})}var se=n(29),ie=n.n(se),oe=n(37),ue=n.n(oe);function le(e){var t=e.media,n=a.a.useState(0),r=Object(w.a)(n,2),c=r[0],s=r[1],i=function(e){return function(){s((function(n){return"r"===e?Math.min(n+1,t.length-1):Math.max(n-1,0)}))}};return Object(b.jsxs)("div",{className:ue.a.container,children:[c>0&&Object(b.jsx)("button",{onClick:i("l"),className:ue.a.Left,children:"<"}),Object(b.jsx)(be,{media:t[c]}),c<t.length-1&&Object(b.jsx)("button",{onClick:i("r"),className:ue.a.Right,children:">"})]})}var de=function(e){var t=e.image;return Object(b.jsx)("img",{className:ue.a.Image,src:j(t)})},je=function(e){var t=e.video;return Object(b.jsx)("video",{controls:!0,className:ue.a.Video,src:j(t)})},be=function(e){var t=e.media;return t.type.match(/^video/)?Object(b.jsx)(je,{video:t}):Object(b.jsx)(de,{image:t})};function pe(e){var t=e.open,n=void 0!==t&&t,r=e.onClose,a=e.post;return n?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:ie.a.container,children:[Object(b.jsxs)("div",{className:"".concat(ie.a.postWrapper," ").concat("[]"!==a.media?ie.a.hasMedia:ie.a.noMedia),children:["[]"!==(null===a||void 0===a?void 0:a.media)&&Object(b.jsx)("div",{className:ie.a.mediaViewer,children:Object(b.jsx)(le,{media:JSON.parse(a.media)})}),Object(b.jsx)(ce,{type:"detail",data:a})]}),Object(b.jsx)("div",{className:ie.a.overlay,onClick:r,children:"hello"})]})}):Object(b.jsx)(b.Fragment,{})}function he(e){var t=e.posts,n=Object(r.useState)(!1),a=Object(w.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(null),o=Object(w.a)(i,2),u=o[0],l=o[1],d=function(e){return function(){s(!0),l(t[e])}};return(null===t||void 0===t?void 0:t.length)>0?Object(b.jsxs)("div",{children:[Object(b.jsx)(pe,{open:c,post:u,onClose:function(){s(!1)}}),t.map((function(e,t){return Object(b.jsx)(ce,{onOpen:d(t),data:e},"post-id-"+t)}))]}):Object(b.jsx)(b.Fragment,{})}var me=n(38),fe=n.n(me),Oe=n.p+"static/media/picture.b0c992ca.svg",ve=n.p+"static/media/video.f3b3fb0e.svg",xe=n(23),ge=n.n(xe),_e=n(71);function ye(e){var t=e.value,n=e.setValue;return Object(b.jsx)("div",{className:ge.a.editorWrapper,children:Object(b.jsx)("textarea",{value:t,onChange:function(e){n(e.target.value)}})})}function ke(e){var t=e.files,n=e.handleFiles,r=function(e){return function(){n((function(t){return t.filter((function(t,n){return e!==n}))}))}};return Object(b.jsx)("div",{className:ge.a.fileViewerWrapper,children:t.map((function(e,t){return Object(b.jsx)(we,{onDelete:r(t),index:t+1,file:e})}))})}function we(e){var t=e.file,n=e.index,a=e.onDelete,c=Object(r.useState)(""),s=Object(w.a)(c,2),o=s[0],u=s[1];return Object(r.useEffect)((function(){var e=new FileReader;e.addEventListener("load",(function(e){var t=e.target.result;u(t)}),[]),e.readAsDataURL(t)}),[t]),Object(b.jsxs)("div",{draggable:!0,style:Object(i.a)({backgroundImage:"url(".concat(o,")")},{backgroundPosition:"center",backgroundSize:"cover",display:"flex",alignItems:"flex-end",justifyContent:"space-between"}),children:[Object(b.jsx)(g.a,{badgeContent:n,color:"secondary",children:Object(b.jsx)("div",{style:{height:15,width:15}})}),Object(b.jsx)("button",{onClick:a,style:{backgroundColor:"var(--light-button)",color:"white"},className:"button",children:"delete"})]})}function Ne(e){var t=e.onClose,n=e.appendPost,c=a.a.useState(""),s=Object(w.a)(c,2),i=s[0],o=s[1],u=Object(E.c)((function(e){return e.user.uid})),l=Object(r.useRef)(null),d=function(){var e=Object(r.useState)([]),t=Object(w.a)(e,2),n=t[0],a=t[1];return[n,function(e){var t,n=Object(_e.a)(e.target.files);try{var r=function(){var e=t.value;a((function(t){return[].concat(Object(L.a)(t),[e])}))};for(n.s();!(t=n.n()).done;)r()}catch(c){n.e(c)}finally{n.f()}},a]}(),j=Object(w.a)(d,3),p=j[0],h=j[1],m=j[2],f=Object(r.useState)(!1),O=Object(w.a)(f,2),v=O[0],x=O[1];return Object(b.jsxs)("div",{className:ge.a.container,children:[Object(b.jsx)("div",{className:ge.a.hiddenInput,children:Object(b.jsx)("input",{onChange:h,ref:l,type:"file",multiple:!0,accept:"image/png, image/gif, image/jpeg, video/*"})}),Object(b.jsx)("div",{title:"close editor",className:ge.a.overlay,onClick:function(e){t(),e.stopPropagation()}}),Object(b.jsxs)("div",{className:ge.a.editor,children:[Object(b.jsx)("div",{className:ge.a.userProfile,children:Object(b.jsx)("p",{children:v?"Edit file ("+p.length+")":"Write post"})}),v?Object(b.jsx)(ke,{files:p,handleFiles:m}):Object(b.jsx)(ye,{value:i,setValue:o}),Object(b.jsxs)("div",{className:ge.a.groupButton,children:[Object(b.jsx)("button",{className:"button",onClick:function(){l.current.click()},children:"add media"}),Object(b.jsx)(g.a,{invisible:v,badgeContent:p.length||0,color:"secondary",children:Object(b.jsxs)("button",{className:"button",onClick:function(){x((function(e){return!e}))},children:["view ",v?"post":"media"]})}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(b.jsx)("button",{className:"button bg-pink",onClick:function(){if(u&&i.trim().length){var e=new FormData;e.append("content",i),e.append("count",p.length),e.append("uid",u),p.forEach((function(t,n){e.append("uploads",t)})),ee.makePost(e).then((function(e){e.postid&&(n(e),t())}))}else alert("check your post again!")},children:"post"})}),Object(b.jsx)("button",{className:"button",onClick:function(e){t()},children:"cancel"})]})]})]})}var Ce=n.p+"static/media/checkin.b8d0c75f.svg";function Ie(e){var t=e.appendPost,n=Object(r.useState)(!1),a=Object(w.a)(n,2),c=a[0],s=a[1],i=Object(E.c)((function(e){return e.user.profileImage}));return Object(b.jsxs)("div",{className:fe.a.container,children:[c&&Object(b.jsx)(Ne,{appendPost:t,onClose:function(){s(!1)}}),Object(b.jsx)("div",{className:fe.a.CheckInItem,children:Object(b.jsx)(p,{size:"large",userAvatar:null!==i&&void 0!==i?i:null})}),Object(b.jsxs)("div",{className:fe.a.CheckInStatus,children:[Object(b.jsx)("div",{className:fe.a.CheckinForm,children:Object(b.jsx)("button",{onClick:function(){s(!0)},children:"What's in your mind!"})}),Object(b.jsxs)("div",{className:fe.a.CheckinButton,children:[Object(b.jsxs)("button",{onClick:function(){s(!0)},children:[Object(b.jsx)(p,{userAvatar:Oe}),Object(b.jsx)("p",{children:"Media"})]}),Object(b.jsxs)("button",{children:[Object(b.jsx)(p,{userAvatar:ve}),Object(b.jsx)("p",{children:"Live"})]}),Object(b.jsxs)("button",{children:[Object(b.jsx)(p,{userAvatar:Ce}),Object(b.jsx)("p",{children:"Checkin! "})]})]})]})]})}var Se=n(72),Pe=n.n(Se),Fe=n(73);var Me=[{name:"home",path:"/",Component:function(){var e=Object(r.useState)([]),t=Object(w.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),s=Object(w.a)(c,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){ee.getLatestPost().then((function(e){e.err||(a(e.rows),e.rows.length<=10&&o(!1))}))}),[]),Object(b.jsxs)("div",{className:Pe.a.container,children:[Object(b.jsx)(Ie,{appendPost:function(e){a((function(t){return[e].concat(Object(L.a)(t))}))}}),Object(b.jsx)(Fe.a,{dataLength:n.length,next:function(){if(n.length>0){var e=n[n.length-1].postid;ee.getEarlierPostByLastId(e).then((function(e){a((function(t){return[].concat(Object(L.a)(t),Object(L.a)(e.rows))})),e.rows.length<10&&o(!1)}))}},hasMore:i,loader:Object(b.jsx)("h4",{children:"Loading..."}),endMessage:Object(b.jsx)("p",{style:{textAlign:"center"},children:Object(b.jsx)("b",{children:"Yay! You have seen it all"})}),children:Object(b.jsx)(he,{posts:n})})]})}},{name:"user",path:"/user/:uid",Component:function(e){var t=Object(E.c)((function(e){return e.user.uid})),n=Object(r.useState)([]),a=Object(w.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(null),o=Object(w.a)(i,2),u=o[0],l=o[1];return Object(r.useEffect)((function(){var t=e.match.params.uid;return ee.getUserById(t).then((function(e){e.count>=1&&!e.err&&l(e.rows[0])})),function(){l(null)}}),[e.match.params.uid]),Object(r.useEffect)((function(){(null===u||void 0===u?void 0:u.uid)&&ee.getAllPostById(u.uid).then((function(e){e.count>0&&s(e.rows)}))}),[u]),u?Object(b.jsxs)("div",{className:V.a.pageWrapper,children:[Object(b.jsx)(T,{user:u}),u.uid===t&&Object(b.jsxs)("div",{className:V.a.CheckInWrapper,children:[" ",Object(b.jsx)(Ie,{appendPost:function(e){s((function(t){return[e].concat(Object(L.a)(t))}))}})]}),Object(b.jsx)("div",{className:V.a.NewsFeedWrapper,children:Object(b.jsx)(he,{posts:c})})]}):Object(b.jsx)(b.Fragment,{})}},{name:"post",path:"/post",Component:function(){return Object(b.jsx)("h1",{children:"post page"})}}];n(74);var Be=function(){return Object(b.jsx)(U,{children:Object(b.jsx)(A.c,{children:Me.map((function(e){var t=e.path,n=e.name,r=e.Component;return Object(b.jsx)(A.a,{children:function(e){return Object(b.jsx)(r,Object(i.a)({},e))},exact:!0,path:t},n)}))})})},Ee=n(45),Re=n(26),Ue=n.n(Re),Ae=n(75),Le=n.n(Ae),We={logInUser:"user/LogInUser",logOutUser:"user/LogOutUser"};function Ve(e){return function(t){var n=e.user,r=n.uid,a=n.userFullName,c=n.userDisplayName,s=n.picture;t({type:We.logInUser,payload:{loggedIn:!0,uid:r,displayName:c,profileImage:s,fullName:a}})}}function qe(){var e=Object(r.useState)(!0),t=Object(w.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)((function(){return{username:"",password:"",userDisplayName:"",userFullName:"",dateOfBirth:"",dateCreatedAccount:(new Date).toISOString().substring(0,10),email:"",phone:"",gender:""}})),s=Object(w.a)(c,2),o=s[0],u=s[1],l=Object(E.b)(),d=function(e){return function(t){var n=t.target.value;"username"!==e&&"password"!==e||(" "===n[n.length-1]&&alert("kh\xf4ng \u0111\u01b0\u1ee3c c\xf3 kho\u1ea3ng c\xe1ch"),n=n.trim()),u((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(Ee.a)({},e,n))}))}};return Object(b.jsx)("div",{className:Ue.a.container,children:Object(b.jsxs)("div",{className:Ue.a.Form,children:[n?Object(b.jsx)(Te,{handleLogin:function(e){e.preventDefault();var t=o.username,n=o.password;ee.loginExistingUser({username:t,password:n}).then((function(e){e.err||l(Ve(e))}))},user:o,handleChange:d}):Object(b.jsx)(De,{handleRegister:function(e){e.preventDefault(),ee.registerNewUser(o).then((function(e){e.err||l(Ve(e))}))},user:o,handleChange:d}),Object(b.jsx)("p",{children:n?"Don't have account?":"Account already exists?"}),Object(b.jsxs)("div",{className:Ue.a.Suggest,children:[Object(b.jsx)("button",{onClick:function(){a((function(e){return!e}))},children:n?"Register":"Login"}),Object(b.jsx)("span",{children:"or"}),Object(b.jsx)(Le.a,{appId:"142129044562039",redirectUri:"google.com",cssClass:"facebook-login-icon",autoLoad:!1,fields:"name,email,picture",onClick:function(){console.log("clicked")},callback:function(e){console.log(e)}})]})]})})}var De=function(e){var t=e.user,n=e.handleChange,r=e.handleRegister;return Object(b.jsxs)("form",{onSubmit:r,className:Ue.a.MainForm,children:[[{name:"Username",type:"text",placeholder:"login account",isRequired:!0,key:"username"},{name:"Password",type:"password",placeholder:"secure password",isRequired:!0,key:"password"},{name:"Full name",type:"text",placeholder:"your full name",isRequired:!0,key:"userFullName"},{name:"Display name",type:"text",placeholder:"your display name",isRequired:!0,key:"userDisplayName"},{name:"Gender",type:"text",placeholder:"what is your gender",isRequired:!0,key:"gender"},{name:"Email",type:"email",placeholder:"your backup email",isRequired:!0,key:"email"},{name:"Phone",type:"text",placeholder:"your phone number",isRequired:!0,key:"phone"},{name:"Date of birth",type:"date",placeholder:"",isRequired:!0,key:"dateOfBirth"}].map((function(e,r){return Object(b.jsxs)("div",{className:Ue.a.groupForm,children:[Object(b.jsx)("label",{children:e.name}),Object(b.jsx)("input",{type:e.type,value:t[e.key],onChange:n(e.key),placeholder:e.placeholder,required:e.isRequired})]},"register-id-"+r)})),Object(b.jsx)("button",{type:"submit",children:"Create Account"})]})},Te=function(e){var t=e.user,n=e.handleChange,r=e.handleLogin;return Object(b.jsxs)("form",{onSubmit:r,className:Ue.a.MainForm,children:[[{name:"Username",type:"text",placeholder:"login account",isRequired:!0,key:"username"},{name:"Password",type:"password",placeholder:"secure password",isRequired:!0,key:"password"}].map((function(e,r){return Object(b.jsxs)("div",{className:Ue.a.groupForm,children:[Object(b.jsx)("label",{children:e.name}),Object(b.jsx)("input",{type:e.type,value:t[e.key],onChange:n(e.key),placeholder:e.placeholder,required:e.isRequired})]},"login-id-"+r)})),Object(b.jsx)("button",{type:"submit",children:"Login"})]})};var ze=n(32),Ge=n(76),He={loggedIn:!1,uid:null,displayName:null,profileImage:null,fullName:null},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;return t.type===We.logInUser?Object(i.a)(Object(i.a)({},e),t.payload):t.type===We.logOutUser?Object(i.a)({},He):e},Xe=Object(ze.combineReducers)({user:Je}),Ye=[n(77).a],Qe=Object(ze.createStore)(Xe,Object(Ge.composeWithDevTools)(ze.applyMiddleware.apply(void 0,Ye))),Ke=(n(110),function(){var e=function(){var e=Object(r.useState)(null),t=Object(w.a)(e,2),n=t[0],a=t[1],c=Object(E.c)((function(e){return e.user.loggedIn}));return Object(r.useEffect)((function(){a(c)}),[c]),n}();return null!==e?!0===e?Object(b.jsx)(Be,{}):Object(b.jsx)(qe,{}):Object(b.jsx)(b.Fragment,{})});s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(E.a,{store:Qe,children:Object(b.jsx)(f.a,{children:Object(b.jsx)(Ke,{})})})}),document.getElementById("root"))},23:function(e,t,n){e.exports={container:"PostEdit_container__1cABj",overlay:"PostEdit_overlay__3nG28",editor:"PostEdit_editor__3GTHV",editorWrapper:"PostEdit_editorWrapper__1BXqX",fileViewerWrapper:"PostEdit_fileViewerWrapper__GXxpg",groupButton:"PostEdit_groupButton__1zwPx",hiddenInput:"PostEdit_hiddenInput__31IVS"}},26:function(e,t,n){e.exports={container:"LoginPage_container__2iffR",Form:"LoginPage_Form__1MiFU",MainForm:"LoginPage_MainForm__1w3oE",Suggest:"LoginPage_Suggest__2T50A",groupForm:"LoginPage_groupForm__3B-v9"}},29:function(e,t,n){e.exports={container:"MediaBrowser_container__l0ovP",postWrapper:"MediaBrowser_postWrapper__2d20Z",hasMedia:"MediaBrowser_hasMedia__3IbhH",noMedia:"MediaBrowser_noMedia__2R8dK",overlay:"MediaBrowser_overlay__nQIPx",mediaViewer:"MediaBrowser_mediaViewer__1GHtf"}},34:function(e,t,n){e.exports={small:"Avatar_small__1S5ft",medium:"Avatar_medium__2Wn88",large:"Avatar_large__16sur",avatar:"Avatar_avatar__2GRnH"}},35:function(e,t,n){e.exports={container:"Post_container__705-l",userInfor:"Post_userInfor__3TsEz",postInfor:"Post_postInfor__2u5Dy",postContent:"Post_postContent__1O4Rf",postMedia:"Post_postMedia__1d6sf",like_comment:"Post_like_comment__D8NQK"}},36:function(e,t,n){e.exports={container:"Preview_container__1bfQb",single:"Preview_single__1vPF6",many:"Preview_many__PfN9x",VideoThumbnail:"Preview_VideoThumbnail__MwOHt",mediaRemain:"Preview_mediaRemain__sQjtr"}},37:function(e,t,n){e.exports={container:"MediaViewer_container__1UA21",Left:"MediaViewer_Left__tRnSH",Right:"MediaViewer_Right__1PFCw",Video:"MediaViewer_Video__1Mwxg",Image:"MediaViewer_Image__3whd4"}},38:function(e,t,n){e.exports={container:"CheckIn_container__lONDU",CheckInStatus:"CheckIn_CheckInStatus__1Sa0w",CheckInItem:"CheckIn_CheckInItem__1mM14",CheckinForm:"CheckIn_CheckinForm__2Yoyx",CheckinButton:"CheckIn_CheckinButton__3Itp0"}},42:function(e,t,n){e.exports={groupNotification:"Navbar_groupNotification__3NmGa",navbar:"Navbar_navbar__3HLis",content:"Navbar_content__j5B0b",groupSearch:"Navbar_groupSearch__dY8E7"}},43:function(e,t,n){e.exports={container:"UserWall_container__ASS1k",background:"UserWall_background__1lSyb",userInfor:"UserWall_userInfor__PIxU_",group:"UserWall_group__2SClk"}},50:function(e,t,n){e.exports={searchBox:"SearchBox_searchBox__1sNLE",overlaySearch:"SearchBox_overlaySearch__lq-N2",searchTitle:"SearchBox_searchTitle__nYQG3"}},51:function(e,t,n){e.exports={pageWrapper:"UserPage_pageWrapper__3X4YX",CheckInWrapper:"UserPage_CheckInWrapper__2Mrh8",NewsFeedWrapper:"UserPage_NewsFeedWrapper__1olmX"}},72:function(e,t,n){e.exports={container:"HomePage_container__2EfJt"}},74:function(e,t,n){e.exports={container:"ChatBubble_container__3S5sJ"}}},[[111,1,2]]]);
//# sourceMappingURL=main.cd738af1.chunk.js.map