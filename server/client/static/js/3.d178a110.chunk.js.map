{"version":3,"sources":["Components/SettingPanel/SettingPanel.module.scss","Components/SettingPanel/index.js"],"names":["module","exports","SettingPanel","open","onClose","uid","useSelector","state","user","dispatch","useDispatch","ref","React","useRef","className","styles","container","mainContent","onSubmit","e","preventDefault","form","FormData","append","current","files","API","setUserAvatar","then","res","payload","profileImage","picture","type","TYPE","changeAvatar","DispatchAvatar","rows","required","name","accept","onClick"],"mappings":"qFACAA,EAAOC,QAAU,CAAC,UAAY,gCAAgC,YAAc,oC,iCCD5E,mHAoBe,SAASC,EAAT,GAAuC,IAAhBC,EAAe,EAAfA,KAAKC,EAAU,EAAVA,QACjCC,EAAIC,aAAY,SAAAC,GAAK,OAAEA,EAAMC,KAAKH,OAClCI,EAAWC,YAAY,MACvBC,EAAIC,IAAMC,OAAO,MAaxB,OAAGV,EAEE,qBAAKW,UAAWC,IAAOC,UAAvB,SAEI,sBAAKF,UAAWC,IAAOE,YAAvB,UACI,uBAAMC,SAjBH,SAACC,GACZA,EAAEC,iBACF,IAAMC,EAAK,IAAIC,SAEfD,EAAKE,OAAO,SAASZ,EAAIa,QAAQC,MAAM,IACvCC,IAAIC,cAActB,EAAIgB,GAAMO,MAAK,SAAAC,GAE7BpB,EAzBZ,SAAwBoB,GAEpB,OAAO,SAACpB,GACN,IACIqB,EAAU,CAEdC,aAHoBF,EAAZG,SAMRvB,EAAS,CAAEwB,KAAMC,IAAKC,aAAcL,QAASA,KAgB9BM,CAAeP,EAAIQ,KAAK,SAU7B,UAEA,2DACA,uBAAO1B,IAAKA,EAAK2B,UAAQ,EAACC,KAAK,SAASN,KAAK,OAAOO,OAAO,YAC3D,wBAAQP,KAAK,SAAb,oBAEA,wBAAQQ,QAASrC,EAAjB,wBAKN","file":"static/js/3.d178a110.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SettingPanel_container__3Xw-W\",\"mainContent\":\"SettingPanel_mainContent__mBHr5\"};","import React from 'react'\nimport styles from './SettingPanel.module.scss'\nimport { useSelector } from 'react-redux'\nimport API from 'src/lib/API/UserAPI'\nimport {useDispatch} from 'react-redux'\nimport TYPE from 'src/ReduxStore/bin/CONSTANT'\nfunction DispatchAvatar(res) {\n\n    return (dispatch)=>{\n      const { picture } = res;\n    const payload = {\n     \n      profileImage: picture,\n      \n    };\n      dispatch({ type: TYPE.changeAvatar, payload: payload });\n    }\n  \n  }\n\nexport default function SettingPanel({open,onClose}) {\n    const uid=useSelector(state=>state.user.uid)\n    const dispatch = useDispatch(null)\n    const ref=React.useRef(null)\n    const onSubmit=(e)=>{\n        e.preventDefault()\n        const form=new FormData()\n        \n        form.append('avatar',ref.current.files[0])\n        API.setUserAvatar(uid,form).then(res=>{\n           \n            dispatch(DispatchAvatar(res.rows[0]))\n        })\n        \n       \n    }\n   if(open){\n    return (\n        <div className={styles.container}>\n          \n            <div className={styles.mainContent}>\n                <form onSubmit={onSubmit} >\n\n                <label>change profile picture</label>\n                <input ref={ref} required name=\"avatar\" type=\"file\" accept=\"image/*\"/>\n                <button type=\"submit\">set</button>\n                </form>\n                <button onClick={onClose}>close</button>\n            </div>\n        </div>\n    )\n   }\n   return <></>\n}\n"],"sourceRoot":""}